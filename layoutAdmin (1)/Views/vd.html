<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quản lý Sách</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f4;
            display: flex;
            justify-content: space-between;
        }
        .container {
            display: flex;
            justify-content: space-between;
            width: 100%;
        }
        .filters, .form-add {
            flex: 1;
            margin-right: 20px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background-color: #fff;
        }
        th, td {
            padding: 10px;
            text-align: center;
            border: 1px solid #ddd;
        }
        th {
            background-color: #800020;
            color: white;
        }
        .btn {
            padding: 8px 16px;
            margin: 5px;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 4px;
        }
        .btn-add {
            background-color: #4CAF50;
        }
        .btn-edit {
            background-color: #FF9800;
        }
        .btn-delete {
            background-color: #f44336;
        }
        .btn-view {
            background-color: #2196F3;
        }
        .filters select, .form-add input, .form-add select {
            padding: 8px;
            margin: 5px;
            width: 100%;
            border-radius: 4px;
        }
        .form-add button {
            width: 100%;
            background-color: #4CAF50;
            color: white;
            padding: 10px;
            border: none;
            cursor: pointer;
            border-radius: 4px;
        }
    </style>
</head>
<body>

    <div class="container">
        <!-- Phần lọc sách -->
        <div class="filters">
            <h1>Quản lý Sách</h1>

            <label for="category">Thể Loại:</label>
            <select id="category">
                <option value="">Tất cả</option>
                <option value="phép thuật">Phép thuật</option>
                <option value="tiểu thuyết">Tiểu thuyết</option>
                <option value="khoa học">Khoa học</option>
            </select>

            <label for="author">Tác Giả:</label>
            <select id="author">
                <option value="">Tất cả</option>
                <option value="J.K. Rowling">J.K. Rowling</option>
                <option value="Harper Lee">Harper Lee</option>
            </select>

            <label for="year">Năm Xuất Bản:</label>
            <select id="year">
                <option value="">Tất cả</option>
                <option value="1997">1997</option>
                <option value="1960">1960</option>
            </select>
        </div>

        <!-- Phần form thêm sách -->
        <div class="form-add">
            <h2>Thêm Sách</h2>
            <form id="addBookForm">
                <label for="bookTitle">Tên Sách:</label>
                <input type="text" id="bookTitle" name="bookTitle" required>

                <label for="bookAuthor">Tác Giả:</label>
                <input type="text" id="bookAuthor" name="bookAuthor" required>

                <label for="bookYear">Năm Xuất Bản:</label>
                <input type="number" id="bookYear" name="bookYear" required>

                <label for="bookCategory">Thể Loại:</label>
                <select id="bookCategory" name="bookCategory" required>
                    <option value="phép thuật">Phép thuật</option>
                    <option value="tiểu thuyết">Tiểu thuyết</option>
                    <option value="khoa học">Khoa học</option>
                </select>

                <button type="submit" class="btn">Thêm Sách</button>
            </form>
        </div>
    </div>

    <!-- Bảng hiển thị sách -->
    <table>
        <thead>
            <tr>
                <th>Mã Sách</th>
                <th>Tên Sách</th>
                <th>Tác Giả</th>
                <th>Năm Xuất Bản</th>
                <th>Thể Loại</th>
                <th>Hành Động</th>
            </tr>
        </thead>
        <tbody id="book-list">
            <tr>
                <td>001</td>
                <td>Harry Potter</td>
                <td>J.K. Rowling</td>
                <td>1997</td>
                <td>Phép thuật</td>
                <td>
                    <button class="btn btn-view">Xem</button>
                    <button class="btn btn-edit">Sửa</button>
                    <button class="btn btn-delete">Xóa</button>
                </td>
            </tr>
            <tr>
                <td>002</td>
                <td>To Kill a Mockingbird</td>
                <td>Harper Lee</td>
                <td>1960</td>
                <td>Tiểu thuyết</td>
                <td>
                    <button class="btn btn-view">Xem</button>
                    <button class="btn btn-edit">Sửa</button>
                    <button class="btn btn-delete">Xóa</button>
                </td>
            </tr>
        </tbody>
    </table>

    <script>
        // Lọc sách dựa trên giá trị từ dropdown
        document.getElementById('category').addEventListener('change', filterBooks);
        document.getElementById('author').addEventListener('change', filterBooks);
        document.getElementById('year').addEventListener('change', filterBooks);

        function filterBooks() {
            const category = document.getElementById('category').value;
            const author = document.getElementById('author').value;
            const year = document.getElementById('year').value;
            
            const rows = document.querySelectorAll('#book-list tr');
            rows.forEach(row => {
                const bookCategory = row.cells[4].textContent;
                const bookAuthor = row.cells[2].textContent;
                const bookYear = row.cells[3].textContent;
                
                const matchesCategory = category === "" || bookCategory.includes(category);
                const matchesAuthor = author === "" || bookAuthor.includes(author);
                const matchesYear = year === "" || bookYear.includes(year);
                
                if (matchesCategory && matchesAuthor && matchesYear) {
                    row.style.display = '';
                } else {
                    row.style.display = 'none';
                }
            });
        }

        // Thêm sách mới
        document.getElementById('addBookForm').addEventListener('submit', function(event) {
            event.preventDefault();
            const title = document.getElementById('bookTitle').value;
            const author = document.getElementById('bookAuthor').value;
            const year = document.getElementById('bookYear').value;
            const category = document.getElementById('bookCategory').value;

            // Thêm sách mới vào bảng
            const newRow = document.createElement('tr');
            newRow.innerHTML = `
                <td>#</td>
                <td>${title}</td>
                <td>${author}</td>
                <td>${year}</td>
                <td>${category}</td>
                <td>
                    <button class="btn btn-view">Xem</button>
                    <button class="btn btn-edit">Sửa</button>
                    <button class="btn btn-delete">Xóa</button>
                </td>
            `;
            document.getElementById('book-list').appendChild(newRow);

            // Xóa giá trị trong form
            document.getElementById('addBookForm').reset();
        });
    </script>

</body>
</html>
